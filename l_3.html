<!DOCTYPE html>
<html>
<head><meta charset="utf-8"><link rel="stylesheet" type="text/css" href="style.css"> <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro"></head><body>
<div class="wrap"><div class="vertical-menu"><ul><li><a href="main.html#550739599208643325">CL-DATA-STRUCTURES</a><ul><li><a href="l_1.html#3505078055675766700">Overview</a><ul><li><a href="l_1.html#290513263209247000">Conventions</a><ul><li><a href="l_1.html#3522195847565896154">Docstrings and docstample</a></li></ul></li><li><a href="l_1.html#2928676432724033225">Key concepts</a><ul><li><a href="l_1.html#2076554713171861000">Signaling errors</a></li><li><a href="l_1.html#3813453328750243431">Trait classes</a></li><li><a href="l_1.html#1375914176377055900">POSITION-MODIFICATION metaprotocol</a></li><li><a href="l_1.html#1498477031844651950">Modification Status</a></li><li><a href="l_1.html#3659395796973069400">Variants</a></li></ul></li></ul></li><li><a href="l_2.html#3650003170565663277">API Reference</a><ul><li><a href="l_2.html#2141597613137456827">Common API</a><ul><li><a href="l_2.html#554818002446217250">Generic Functions</a></li><li><a href="l_2.html#3789338485372599577">Classes</a></li><li><a href="l_2.html#4124744797648332331">Conditions</a></li></ul></li></ul></li><li><a href="l_3.html#2864334963195553254">Dictionary structures</a><ul><li><a href="l_3.html#2395499641999857900">API</a></li><li><a href="l_3.html#167020872664973925">HAMT</a></li></ul></li></ul></li></ul></div><div class="content"><div id="2864334963195553254"><h2>Dictionary structures
</h2><p>Dictionaries map values to unique keys. Common Lisp standard already contains such structures (hash tables, alists, plists) and therefore idea should not be alien to a Lisp programmer. CL-DATA-STRUCTURES offers both functional and mutable dictionaries, with HAMT being the prime example of complete, feature rich implementation of the protocol. In practice, containers present in this module are either ordered containers (for instance binary search trees) or some sort of unordered hash table (either classiscal hashtable or some sort of hashing tree). In each case, overview of data structure is present in this document.</p><div id="2395499641999857900"><h3>API
</h3><p>To obtain value under key use function AT.</p><p>To change mapping use following purely functional functions:</p><ul><li>INSERT</li>
<li>ADD</li>
<li>UPDATE</li>
</ul><p>To change mapping in destructive way, use following functions:</p><ul><li>(SETF AT)</li>
<li>ADD!</li>
<li>UPDATE!</li>
</ul></div><div id="167020872664973925"><h3>HAMT
</h3><p>HAMT stands from hash array mapped trie. This data structure is used most commonly as functional dictionary in standard libraries of few recent languages (including Clojure and Scala). This is not surprising since HAMT is both simple and efficient data structure, and perhaps ideal functional hashing-tree. Cl-data-structures implementation offers also mutable and transactional variant of this structure. Although this container is not optimized for destructive modification, it is still faster then copying on write whole path. Since HAMT contains transactional implementation, lazy functional implementation is also present.</p><p>Dictionary implementation of HAMT is present in the system as a class.</p><div class="class-info"><div class="doc-name">
HAMT-DICTIONARY
</div>
<img src="CL-DATA-STRUCTURES.DICTS.HAMT-HAMT-DICTIONARY.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Root HAMT dictionary class.</div><p>As you can see, it inherits DICTIONARY trait class as well as lower level FUNDAMENTAL-HAMT-CONTAINER class. All instances of this class can be used with following functions:</p><div class="function-info"><div class="doc-name">
HAMT-DICTIONARY-AT
</div><div class="doc-lambda-list"><b>Arguments:</b>
()
</div><div class="doc-paragraph">Implementation of AT</div></div><div class="function-info"><div class="doc-name">
HAMT-DICTIONARY-SIZE
</div><div class="doc-lambda-list"><b>Arguments:</b>
(CONTAINER)
</div><div class="doc-paragraph">Implementation of SIZE</div></div><p>Functional dictionary is represented by the following class:</p><p>There is no lazy-hamt-dictionary class, because lazy hamt dictionary is nothing more then a transactional-hamt-dictionary inside lazy-box.</p></div></div></div></div>
</body>
</html>