<!DOCTYPE html>
<html>
<head><meta charset="utf-8"><link rel="stylesheet" type="text/css" href="style.css"> <link href="https://fonts.googleapis.com/css?family=Inconsolata|Lato" rel="stylesheet"></head><body>
<div class="wrap"><div class="vertical-menu"><ul><li><a href="main.html#4027295039038115331">CL-DATA-STRUCTURES</a><ul><li><a href="l_1.html#3920997251579164900">Overview</a><ul><li><a href="l_1.html#2141295841218766050">Conventions</a></li><li><a href="l_1.html#3540820972188604331">Key concepts</a><ul><li><a href="l_1.html#283023268661035175">Signaling errors</a></li><li><a href="l_1.html#2756258029555992654">Modification Status</a></li><li><a href="l_1.html#969461507162169450">Trait classes</a></li><li><a href="l_1.html#1509330835118547350">Variants</a></li></ul></li></ul></li><li><a href="l_2.html#3703562457547459000">API Reference</a><ul><li><a href="l_2.html#83553826776506125">Meta level</a><ul><li><a href="l_2.html#2768286314186651379">Generic Functions</a></li><li><a href="l_2.html#608792041535272075">Classes</a></li></ul></li><li><a href="l_2.html#3827002299166816577">Common API</a><ul><li><a href="l_2.html#3850214645360678731">Generic Functions</a></li><li><a href="l_2.html#3133987488624321554">Macros</a></li><li><a href="l_2.html#1004541089597842225">Classes</a></li><li><a href="l_2.html#3551938551952971054">Conditions</a></li></ul></li></ul></li><li><a href="l_3.html#1050847759505388000">Internal details</a><ul><li><a href="l_3.html#3361718660377666879">Docstrings and docstample</a></li><li><a href="l_3.html#2448202317081021479">POSITION-MODIFICATION metaprotocol</a></li></ul></li><li><a href="l_4.html#3089425203579543400">Dictionary structures</a><ul><li><a href="l_4.html#3102895619044199554">API</a></li><li><a href="l_4.html#1067623572140447725">HAMT</a><ul><li><a href="l_4.html#4031158419032782054">Constructing</a></li><li><a href="l_4.html#1174962095674439477">POSITION-MODIFICATION contracts</a></li></ul></li></ul></li></ul></li></ul></div><div class="content"><div id="3703562457547459000"><h2>API Reference
</h2><p>This section contains reference of all the functions, classes and macros provided by this library to the user.</p><div id="83553826776506125"><h3>Meta level
</h3><p>Following classes and functions are used to define the actual user API. See the POSITION-MODIFICATION section for further explanations.</p><div id="2768286314186651379"><h4>Generic Functions
</h4>Symbols in package CL-DATA-STRUCTURES:
<div class="generic-info"><div class="doc-name">
MAKE-BUCKET
</div><div class="doc-lambda-list"><b>Arguments:</b>
(OPERATION CONTAINER LOCATION &amp;KEY HASH VALUE &amp;ALLOW-OTHER-KEYS)
</div><div class="doc-paragraph">
<b>Description:</b>
Generic, low level function used to create all sorts of buckets (like those in dictionaries). Buckets are modified by grow-bucket and shrink-bucket functions.</div>
<b>Returns:</b>
<div class="doc-paragraph">
New bucket. Precise type of bucket is not relevant to this level of abstraction and usually is defined in context of specific container.</div>
<b>Notes:</b>
<div class="doc-paragraph">
This function is not allowed to perform any side effects.</div>
</div><div class="generic-info"><div class="doc-name">
GROW-BUCKET
</div><div class="doc-lambda-list"><b>Arguments:</b>
(OPERATION CONTAINER BUCKET LOCATION &amp;KEY HASH VALUE &amp;ALLOW-OTHER-KEYS)
</div><div class="doc-paragraph">
<b>Description:</b>
Generic, low level function used to grow all sorts of buckets (like those in dictionaries). Buckets are created by make-bucket function.</div>
<b>Returns:</b>
<div class="doc-paragraph">
<ol><li>Bucket.</li>
<li>Instance of modification-operation-status.</li>
<li>Boolean. T if element was added into container, NIL otherwise. If NIL was returned, POSITION-MODIFICATION may assume that container was not changed, and therefore ignore returned bucket.</li>
</ol></div>
<b>Notes:</b>
<div class="doc-paragraph">
This function is not allowed to perform any side effects. See grow-bucket! for function that is allowed to do so.</div>
</div><div class="generic-info"><div class="doc-name">
SHRINK-BUCKET
</div><div class="doc-lambda-list"><b>Arguments:</b>
(OPERATION CONTAINER BUCKET LOCATION &amp;KEY HASH &amp;ALLOW-OTHER-KEYS)
</div><div class="doc-paragraph">
<b>Description:</b>
Generic, low level function used to shrink all sorts of buckets (like those in dictionaries). Buckets are created by make-bucket function.</div>
<b>Returns:</b>
<div class="doc-paragraph">
<ol><li>Bucket. May also return nil to indicate empty bucket.</li>
<li>Instance of modification-operation-status.</li>
<li>Boolean. T if element was removed from container, NIL otherwise. If NIL was returned, POSITION-MODIFICATION may assume that container was not changed, and therefore ignore returned bucket.</li>
</ol></div>
<b>Notes:</b>
<div class="doc-paragraph">
This function is not allowed to perform any side effects. See shrink-bucket! for function that is allowed to do so.</div>
</div><div class="generic-info"><div class="doc-name">
GROW-BUCKET!
</div><div class="doc-lambda-list"><b>Arguments:</b>
(OPERATION CONTAINER BUCKET LOCATION &amp;KEY HASH VALUE &amp;ALLOW-OTHER-KEYS)
</div><div class="doc-paragraph">
<b>Description:</b>
Generic, low level function used to destructivly grow all sorts of buckets (like those in dictionaries). Buckets are created by make-bucket function.</div>
<b>Returns:</b>
<div class="doc-paragraph">
<ol><li>New or passed bucket.</li>
<li>Instance of position modification status.</li>
<li>Boolean. T if returned bucket contains new elements, NIL otherwise. If NIL was returned, position-modification is free to ignore first value.</li>
</ol></div>
<div class="doc-paragraph">
<b>Side Effects:</b>
Can modify bucket.</div>
</div><div class="generic-info"><div class="doc-name">
SHRINK-BUCKET!
</div><div class="doc-lambda-list"><b>Arguments:</b>
(OPERATION CONTAINER BUCKET LOCATION &amp;KEY HASH &amp;ALLOW-OTHER-KEYS)
</div><div class="doc-paragraph">
<b>Description:</b>
Generic, low level function used to destructivly shrink all sorts of buckets (like those in dictionaries). Buckets are created by make-bucket function.</div>
<b>Returns:</b>
<div class="doc-paragraph">
<ol><li>New or passed bucket. May return nil as empty bucket.</li>
<li>Instance of position modification status.</li>
<li>Boolean. T if elements were removed from BUCKET, NIL otherwise. If NIL was returned, position-modification is free to ignore first value.</li>
</ol></div>
<div class="doc-paragraph">
<b>Side Effects:</b>
Can modify bucket.</div>
</div></div><div id="608792041535272075"><h4>Classes
</h4>Symbols in package CL-DATA-STRUCTURES:
<div class="class-info"><div class="doc-name">
FUNCTIONAL-FUNCTION
</div>
<img src="CL-DATA-STRUCTURES-FUNCTIONAL-FUNCTION.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Function that inherits this class is not allowed to perform any side effects.</div><div class="class-info"><div class="doc-name">
DESTRUCTIVE-FUNCTION
</div>
<img src="CL-DATA-STRUCTURES-DESTRUCTIVE-FUNCTION.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Function that inherits this class is expected to perform side effects.</div><div class="class-info"><div class="doc-name">
SHRINK-FUNCTION
</div>
<img src="CL-DATA-STRUCTURES-SHRINK-FUNCTION.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Function will attempt to remove element from container.</div><div class="class-info"><div class="doc-name">
GROW-FUNCTION
</div>
<img src="CL-DATA-STRUCTURES-GROW-FUNCTION.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Function will attempt to add new element to container.</div><div class="class-info"><div class="doc-name">
INSERT-FUNCTION
</div>
<img src="CL-DATA-STRUCTURES-INSERT-FUNCTION.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Class of INSERT and (SETF AT).</div><div class="class-info"><div class="doc-name">
UPDATE-FUNCTION
</div>
<img src="CL-DATA-STRUCTURES-UPDATE-FUNCTION.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Class of UPDATE and UPDATE!.</div><div class="class-info"><div class="doc-name">
ADD-FUNCTION
</div>
<img src="CL-DATA-STRUCTURES-ADD-FUNCTION.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Class of ADD and ADD!.</div><div class="class-info"><div class="doc-name">
ERASE-FUNCTION
</div>
<img src="CL-DATA-STRUCTURES-ERASE-FUNCTION.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Class of ERASE and ERASE!.</div><div class="class-info"><div class="doc-name">
FUNCTIONAL-INSERT-FUNCTION
</div>
<img src="CL-DATA-STRUCTURES-FUNCTIONAL-INSERT-FUNCTION.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Class of INSERT.</div><div class="class-info"><div class="doc-name">
FUNCTIONAL-UPDATE-FUNCTION
</div>
<img src="CL-DATA-STRUCTURES-FUNCTIONAL-UPDATE-FUNCTION.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Class of UPDATE.</div><div class="class-info"><div class="doc-name">
FUNCTIONAL-ADD-FUNCTION
</div>
<img src="CL-DATA-STRUCTURES-FUNCTIONAL-ADD-FUNCTION.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Class of ADD.</div><div class="class-info"><div class="doc-name">
FUNCTIONAL-ERASE-FUNCTION
</div>
<img src="CL-DATA-STRUCTURES-FUNCTIONAL-ERASE-FUNCTION.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Class of ERASE.</div><div class="class-info"><div class="doc-name">
INSERT!-FUNCTION
</div>
<img src="CL-DATA-STRUCTURES-INSERT!-FUNCTION.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Class of INSERT.</div><div class="class-info"><div class="doc-name">
UPDATE!-FUNCTION
</div>
<img src="CL-DATA-STRUCTURES-UPDATE!-FUNCTION.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Class of UPDATE.</div><div class="class-info"><div class="doc-name">
ADD!-FUNCTION
</div>
<img src="CL-DATA-STRUCTURES-ADD!-FUNCTION.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Class of ADD.</div><div class="class-info"><div class="doc-name">
ERASE!-FUNCTION
</div>
<img src="CL-DATA-STRUCTURES-ERASE!-FUNCTION.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Class of ERASE.</div></div></div><div id="3827002299166816577"><h3>Common API
</h3><p>Following is the most abstract API of cl-data-structures library.</p><div id="3850214645360678731"><h4>Generic Functions
</h4><div id="3320732924526359554"><h5>Query Functions
</h5><p>Following generic functions check state of the container and are not allowed to change it.</p>Symbols in package CL-DATA-STRUCTURES:
<div class="generic-info"><div class="doc-name">
AT
</div><div class="doc-lambda-list"><b>Arguments:</b>
(CONTAINER LOCATION)
</div><div class="doc-paragraph">
<b>Examples:</b><pre><code>(LET ((TABLE
       (CL-DATA-STRUCTURES.DICTS.HAMT:MAKE-MUTABLE-HAMT-DICTIONARY #&#039;SXHASH
                                                                   #&#039;EQ)))
  (PROVE.TEST:DIAG &quot;Testing example for AT function.&quot;)
  (MULTIPLE-VALUE-BIND (VALUE FOUND)
      (CL-DATA-STRUCTURES:AT TABLE &#039;A)
    (PROVE.TEST:IS VALUE NIL)
    (PROVE.TEST:IS FOUND NIL))
  (SETF (CL-DATA-STRUCTURES:AT TABLE &#039;A) 1)
  (MULTIPLE-VALUE-BIND (VALUE FOUND)
      (CL-DATA-STRUCTURES:AT TABLE &#039;A)
    (PROVE.TEST:IS VALUE 1)
    (PROVE.TEST:IS FOUND T)))</pre></code></div>
<div class="doc-paragraph">
<b>Description:</b>
Obtain element stored at LOCATION in the CONTAINER.</div>
<b>Returns:</b>
<div class="doc-paragraph">
In case of associative containers, second value informs if LOCATION was found in the CONTAINER (first value is NIL if element was not found).
 In case of non-associtive containers (e.g. vectors), the function returns value under LOCATION if LOCATION is valid, otherwise condition of type ARGUMENT-OUT-OF-BOUNDS will be raised.</div>
</div><div class="generic-info"><div class="doc-name">
SIZE
</div><div class="doc-lambda-list"><b>Arguments:</b>
(CONTAINER)
</div><div class="doc-paragraph">
<b>Examples:</b><pre><code>(LET ((CONTAINER
       (CL-DATA-STRUCTURES.DICTS.HAMT:MAKE-MUTABLE-HAMT-DICTIONARY #&#039;SXHASH
                                                                   #&#039;EQ)))
  (PROVE.TEST:IS (CL-DATA-STRUCTURES:SIZE CONTAINER) 0)
  (SETF (CL-DATA-STRUCTURES:AT CONTAINER &#039;A) 1)
  (PROVE.TEST:IS (CL-DATA-STRUCTURES:SIZE CONTAINER) 1))</pre></code></div>
<div class="doc-paragraph">
<b>Description:</b>
How many elements CONTAINER holds currently?</div>
<b>Returns:</b>
<div class="doc-paragraph">
number of elements in the container.</div>
</div><div class="generic-info"><div class="doc-name">
MUTABLEP
</div><div class="doc-lambda-list"><b>Arguments:</b>
(CONTAINER)
</div><div class="doc-paragraph">
<b>Examples:</b><pre><code>(PROGN
 (PROVE.TEST:DIAG &quot;Running example for mutablep.&quot;)
 (LET ((MUTABLE
        (CL-DATA-STRUCTURES.DICTS.HAMT:MAKE-MUTABLE-HAMT-DICTIONARY #&#039;SXHASH
                                                                    #&#039;EQ)))
   (PROVE.TEST:OK (CL-DATA-STRUCTURES:MUTABLEP MUTABLE))
   (PROVE.TEST:OK (NOT (CL-DATA-STRUCTURES:FUNCTIONALP MUTABLE))))
 (LET ((FUNCTIONAL
        (CL-DATA-STRUCTURES.DICTS.HAMT:MAKE-FUNCTIONAL-HAMT-DICTIONARY #&#039;SXHASH
                                                                       #&#039;EQ)))
   (PROVE.TEST:OK (NOT (CL-DATA-STRUCTURES:MUTABLEP FUNCTIONAL)))
   (PROVE.TEST:OK (CL-DATA-STRUCTURES:FUNCTIONALP FUNCTIONAL))))</pre></code></div>
<b>Returns:</b>
<div class="doc-paragraph">
T if CONTAINER exposes mutable API and NIL if not.</div>
</div><div class="generic-info"><div class="doc-name">
TRANSACTIONALP
</div><div class="doc-lambda-list"><b>Arguments:</b>
(CONTAINER)
</div><div class="doc-paragraph">
<b>Examples:</b><pre><code>(PROGN
 (PROVE.TEST:DIAG &quot;Running example for transactionalp.&quot;)
 (LET ((CONTAINER
        (CL-DATA-STRUCTURES:BECOME-TRANSACTIONAL
         (CL-DATA-STRUCTURES.DICTS.HAMT:MAKE-MUTABLE-HAMT-DICTIONARY #&#039;SXHASH
                                                                     #&#039;EQ))))
   (PROVE.TEST:OK (CL-DATA-STRUCTURES:MUTABLEP CONTAINER))
   (PROVE.TEST:OK (CL-DATA-STRUCTURES:TRANSACTIONALP CONTAINER))))</pre></code></div>
<b>Returns:</b>
<div class="doc-paragraph">
T if CONTAINER is transactional and NIL if it is not.</div>
</div><div class="generic-info"><div class="doc-name">
FUNCTIONALP
</div><div class="doc-lambda-list"><b>Arguments:</b>
(CONTAINER)
</div><div class="doc-paragraph">
<b>Examples:</b><pre><code>(PROGN
 (PROVE.TEST:DIAG &quot;Running example for functionalp.&quot;)
 (LET ((MUTABLE
        (CL-DATA-STRUCTURES.DICTS.HAMT:MAKE-MUTABLE-HAMT-DICTIONARY #&#039;SXHASH
                                                                    #&#039;EQ)))
   (PROVE.TEST:OK (CL-DATA-STRUCTURES:MUTABLEP MUTABLE))
   (PROVE.TEST:OK (NOT (CL-DATA-STRUCTURES:FUNCTIONALP MUTABLE))))
 (LET ((FUNCTIONAL
        (CL-DATA-STRUCTURES.DICTS.HAMT:MAKE-FUNCTIONAL-HAMT-DICTIONARY #&#039;SXHASH
                                                                       #&#039;EQ)))
   (PROVE.TEST:OK (NOT (CL-DATA-STRUCTURES:MUTABLEP FUNCTIONAL)))
   (PROVE.TEST:OK (CL-DATA-STRUCTURES:FUNCTIONALP FUNCTIONAL))))</pre></code></div>
<b>Returns:</b>
<div class="doc-paragraph">
T if CONTAINER exposes functional API and NIL if not.</div>
</div></div><div id="1179661674663903277"><h5>Functional modification API
</h5>Symbols in package CL-DATA-STRUCTURES:
<div class="generic-info"><div class="doc-name">
INSERT
</div><div class="doc-lambda-list"><b>Arguments:</b>
(CONTAINER LOCATION NEW-VALUE)
</div><div class="doc-paragraph">
<b>Examples:</b><pre><code>(LET* ((TABLE
        (CL-DATA-STRUCTURES.DICTS.HAMT:MAKE-FUNCTIONAL-HAMT-DICTIONARY #&#039;SXHASH
                                                                       #&#039;EQ))
       (NEXT-TABLE (CL-DATA-STRUCTURES:INSERT TABLE &#039;A 5)))
  (PROVE.TEST:IS (CL-DATA-STRUCTURES:AT NEXT-TABLE &#039;A) 5)
  (PROVE.TEST:IS (CL-DATA-STRUCTURES:AT TABLE &#039;A) 5 :TEST
                 (ALEXANDRIA.0.DEV:COMPOSE #&#039;NULL #&#039;EQL)))</pre></code></div>
<div class="doc-paragraph">
<b>Description:</b>
Functional API: non-destructively insert NEW-VALUE into CONTAINER at LOCATION. Will replace element value at LOCATION if it was already occupied.</div>
<b>Returns:</b>
<div class="doc-paragraph">
<ol><li>Instance of the same type as CONTAINER, with NEW-VALUE at LOCATION</li>
<li>Modification status object.</li>
</ol></div>
</div><div class="generic-info"><div class="doc-name">
ADD
</div><div class="doc-lambda-list"><b>Arguments:</b>
(CONTAINER LOCATION NEW-VALUE)
</div><div class="doc-paragraph">
<b>Examples:</b><pre><code>(LET ((TABLE
       (CL-DATA-STRUCTURES.DICTS.HAMT:MAKE-FUNCTIONAL-HAMT-DICTIONARY #&#039;SXHASH
                                                                      #&#039;EQ)))
  (PROVE.TEST:DIAG &quot;Testing example for add function.&quot;)
  (MULTIPLE-VALUE-BIND (VALUE FOUND)
      (CL-DATA-STRUCTURES:AT TABLE &#039;A)
    (PROVE.TEST:IS VALUE NIL)
    (PROVE.TEST:IS FOUND NIL))
  (LET ((NEXT-TABLE (CL-DATA-STRUCTURES:ADD TABLE &#039;A 1)))
    (MULTIPLE-VALUE-BIND (VALUE FOUND)
        (CL-DATA-STRUCTURES:AT TABLE &#039;A)
      (PROVE.TEST:IS VALUE NIL)
      (PROVE.TEST:IS FOUND NIL))
    (MULTIPLE-VALUE-BIND (VALUE FOUND)
        (CL-DATA-STRUCTURES:AT NEXT-TABLE &#039;A)
      (PROVE.TEST:IS VALUE 1)
      (PROVE.TEST:IS FOUND T))
    (CL-DATA-STRUCTURES:MOD-BIND (NEXT-NEXT-TABLE FOUND VALUE)
        (CL-DATA-STRUCTURES:ADD NEXT-TABLE &#039;A 2)
      (PROVE.TEST:OK FOUND)
      (PROVE.TEST:IS VALUE 1)
      (PROVE.TEST:IS NEXT-NEXT-TABLE NEXT-TABLE)
      (MULTIPLE-VALUE-BIND (VALUE FOUND)
          (CL-DATA-STRUCTURES:AT NEXT-NEXT-TABLE &#039;A)
        (PROVE.TEST:OK FOUND)
        (PROVE.TEST:IS VALUE 1)))))</pre></code></div>
<div class="doc-paragraph">
<b>Description:</b>
Functional API: attempts to non-destructively add NEW-VALUE into CONTAINER at LOCATION. Will not replace value at LOCATION if it was already occupied.</div>
<b>Returns:</b>
<div class="doc-paragraph">
<ol><li>Instance of the same type as CONTAINER. If add took place it shall contain NEW-VALUE at LOCATION.</li>
<li>Modification status object.</li>
</ol></div>
</div><div class="generic-info"><div class="doc-name">
UPDATE
</div><div class="doc-lambda-list"><b>Arguments:</b>
(CONTAINER LOCATION NEW-VALUE)
</div><div class="doc-paragraph">
<b>Description:</b>
Functional API: if there is value at LOCATION in the CONTAINER, return new instance with NEW-VALUE at LOCATION.</div>
<b>Returns:</b>
<div class="doc-paragraph">
<ol><li>New container, with updated value at LOCATION if UPDATE took place</li>
<li>Modification status object</li>
</ol></div>
</div><div class="generic-info"><div class="doc-name">
ERASE
</div><div class="doc-lambda-list"><b>Arguments:</b>
(CONTAINER LOCATION)
</div><div class="doc-paragraph">
<b>Examples:</b><pre><code>(LET* ((TABLE
        (CL-DATA-STRUCTURES.DICTS.HAMT:MAKE-FUNCTIONAL-HAMT-DICTIONARY #&#039;SXHASH
                                                                       #&#039;EQ))
       (NEXT-TABLE (CL-DATA-STRUCTURES:INSERT TABLE &#039;A 5)))
  (PROVE.TEST:DIAG &quot;Running example for ERASE&quot;)
  (PROVE.TEST:IS (CL-DATA-STRUCTURES:AT NEXT-TABLE &#039;A) 5)
  (PROVE.TEST:IS (CL-DATA-STRUCTURES:AT TABLE &#039;A) 5 :TEST
                 (ALEXANDRIA.0.DEV:COMPOSE #&#039;NULL #&#039;EQL))
  (CL-DATA-STRUCTURES:MOD-BIND (ERASED-TABLE FOUND VALUE)
      (CL-DATA-STRUCTURES:ERASE NEXT-TABLE &#039;A)
    (PROVE.TEST:OK FOUND)
    (PROVE.TEST:IS VALUE 5)
    (PROVE.TEST:IS (CL-DATA-STRUCTURES:AT ERASED-TABLE &#039;A) NIL)
    (PROVE.TEST:IS (CL-DATA-STRUCTURES:AT NEXT-TABLE &#039;A) 5)))</pre></code></div>
<div class="doc-paragraph">
<b>Description:</b>
Functional API: non-destructively remove element at LOCATION from the CONTAINER.</div>
<b>Returns:</b>
<div class="doc-paragraph">
<ol><li>Instance of the same type as CONTAINER, without value at LOCATION</li>
<li>Modification status object.</li>
</ol></div>
</div></div><div id="84138499601313300"><h5>Mutable modification API
</h5>Symbols in package CL-DATA-STRUCTURES:
<div class="generic-info"><div class="doc-name">
(SETF AT)
</div><div class="doc-lambda-list"><b>Arguments:</b>
(NEW-VALUE CONTAINER LOCATION)
</div><div class="doc-paragraph">
<b>Description:</b>
Destructively insert/replace element in the CONTAINER at LOCATION with NEW-VALUE.</div>
<b>Returns:</b>
<div class="doc-paragraph">
<ol><li>NEW-VALUE</li>
<li>modification-status object as second value.</li>
</ol></div>
</div><div class="generic-info"><div class="doc-name">
ADD!
</div><div class="doc-lambda-list"><b>Arguments:</b>
(CONTAINER LOCATION NEW-VALUE)
</div><div class="doc-paragraph">
<b>Description:</b>
Destructively add NEW-VALUE into CONTAINER at LOCATION. Will not replace value at LOCATION if it was already occupied.</div>
<b>Returns:</b>
<div class="doc-paragraph">
<ol><li>CONTAINER</li>
<li>Modification status object</li>
</ol></div>
<div class="doc-paragraph">
<b>Side Effects:</b>
If item was not found in the CONTAINER, destructivly transform CONTAINER.</div>
</div><div class="generic-info"><div class="doc-name">
UPDATE!
</div><div class="doc-lambda-list"><b>Arguments:</b>
(CONTAINER LOCATION NEW-VALUE)
</div><div class="doc-paragraph">
<b>Description:</b>
Mutable API: If LOCATION is taken in the CONTAINER, destructivly update it with NEW-VALUE</div>
<b>Returns:</b>
<div class="doc-paragraph">
<ol><li>CONTAINER</li>
<li>Modification status object</li>
</ol></div>
</div><div class="generic-info"><div class="doc-name">
ERASE!
</div><div class="doc-lambda-list"><b>Arguments:</b>
(CONTAINER LOCATION)
</div><div class="doc-paragraph">
<b>Description:</b>
Mutable API: destructively remove element at LOCATION from the CONTAINER.</div>
<b>Returns:</b>
<div class="doc-paragraph">
<ol><li>CONTAINER</li>
<li>Modification status object</li>
</ol></div>
<div class="doc-paragraph">
<b>Side Effects:</b>
If erase took place, destructivly transform CONTAINER.</div>
</div></div><div id="3861603618740023331"><h5>Variants API
</h5>Symbols in package CL-DATA-STRUCTURES:
<div class="generic-info"><div class="doc-name">
BECOME-FUNCTIONAL
</div><div class="doc-lambda-list"><b>Arguments:</b>
(CONTAINER)
</div><div class="doc-paragraph">
<b>Description:</b>
Transforms CONTAINER into functional variant.</div>
<b>Returns:</b>
<div class="doc-paragraph">
instance implementing functional API. Content of returned instance is identical to the content of input CONTAINER.</div>
<div class="doc-paragraph">
<b>Side Effects:</b>
May vary, depending on type of the CONTAINER. Also, some (or all) parts of internal representation can be shared between both CONTAINER and returned instance. Side effects from mutable CONTAINER may leak into returned instance.</div>
<b>Notes:</b>
<div class="doc-paragraph">
<ul><li>Side effects from destructive operations on CONTAINER may leak into returned instance.</li><li>Not all containers implement this function.</li></ul></div>
</div><div class="generic-info"><div class="doc-name">
BECOME-MUTABLE
</div><div class="doc-lambda-list"><b>Arguments:</b>
(CONTAINER)
</div><div class="doc-paragraph">
<b>Description:</b>
Transforms CONTAINER into mutable variant.</div>
<b>Returns:</b>
<div class="doc-paragraph">
instance implementing mutable API. Content of returned instance is identical to the content of input CONTAINER.</div>
<div class="doc-paragraph">
<b>Side Effects:</b>
May vary, depending on type of the CONTAINER. Also, some (or all) parts of internal representation can be shared between both CONTAINER and returned instance. Side effects from mutable CONTAINER may leak into returned instance.</div>
<b>Notes:</b>
<div class="doc-paragraph">
<ul><li>Side effects from destructive operations on CONTAINER may leak into returned instance.</li><li>Not all containers implement this function.</li></ul></div>
</div><div class="generic-info"><div class="doc-name">
BECOME-TRANSACTIONAL
</div><div class="doc-lambda-list"><b>Arguments:</b>
(CONTAINER)
</div><div class="doc-paragraph">
<b>Description:</b>
Transforms CONTAINER into transactional variant.</div>
<b>Returns:</b>
<div class="doc-paragraph">
instance implementing mutable API. Content of returned instance is identical to the content of input CONTAINER.</div>
<div class="doc-paragraph">
<b>Side Effects:</b>
May vary, depending on type of the CONTAINER. Also, some (or all) parts of internal representation can be shared between both CONTAINER and returned instance. Side effects from mutable CONTAINER may leak into returned instance.</div>
<b>Notes:</b>
<div class="doc-paragraph">
<ul><li>Side effects from destructive operations on CONTAINER may leak into returned instance.</li><li>Not all containers implement this function.</li></ul></div>
</div><div class="generic-info"><div class="doc-name">
BECOME-LAZY
</div><div class="doc-lambda-list"><b>Arguments:</b>
(CONTAINER)
</div><div class="doc-paragraph">
<b>Description:</b>
Transforms CONTAINER into lazy variant.</div>
<b>Returns:</b>
<div class="doc-paragraph">
instance implementing functional, lazy API. Content of returned instance is identical to the content of input CONTAINER.</div>
<div class="doc-paragraph">
<b>Side Effects:</b>
May vary, depending on type of the CONTAINER. Also, some (or all) parts of internal representation can be shared between both CONTAINER and returned instance. Side effects from mutable CONTAINER may leak into returned instance.</div>
<b>Notes:</b>
<div class="doc-paragraph">
<ul><li>Side effects from destructive operations on CONTAINER may leak into returned instance.</li><li>All containers that implement become-transactional, also implement become-lazy</li></ul></div>
</div></div></div><div id="3133987488624321554"><h4>Macros
</h4>Symbols in package CL-DATA-STRUCTURES:
<div class="macro-info"><div class="doc-name">
MOD-BIND
</div><div class="doc-lambda-list"><b>Arguments:</b>
((FIRST &amp;OPTIONAL FOUND VALUE) FORM &amp;BODY BODY)
</div><div class="doc-paragraph">
<b>Description:</b>
This macro attempts to mimic multiple-value-bind syntax for modification operations performed on containers. All of those operations will return secondary object representing operation status that shall be bound in lexical environment and. Next, symbol-macrolets will be established, that inline found and value function calls on operation status (like with-accessors).</div>
</div></div><div id="1004541089597842225"><h4>Classes
</h4>Symbols in package CL-DATA-STRUCTURES:
<div class="class-info"><div class="doc-name">
FUNDAMENTAL-CONTAINER
</div>
<img src="CL-DATA-STRUCTURES-FUNDAMENTAL-CONTAINER.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Root class of containers.</div><div class="class-info"><div class="doc-name">
FUNDAMENTAL-MODIFICATION-OPERATION-STATUS
</div>
<img src="CL-DATA-STRUCTURES-FUNDAMENTAL-MODIFICATION-OPERATION-STATUS.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Base class of all fundamental modification status classes.</div><div class="class-info"><div class="doc-name">
FUNCTIONAL
</div>
<img src="CL-DATA-STRUCTURES-FUNCTIONAL.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Object implements functional api.</div><div class="class-info"><div class="doc-name">
MUTABLE
</div>
<img src="CL-DATA-STRUCTURES-MUTABLE.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Object implements mutable api.</div><div class="class-info"><div class="doc-name">
TRANSACTIONAL
</div>
<img src="CL-DATA-STRUCTURES-TRANSACTIONAL.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Object implements mutable api in transactional way.</div><div class="class-info"><div class="doc-name">
LAZY
</div>
<img src="CL-DATA-STRUCTURES-LAZY.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Functional object, with lazy implementation.</div></div><div id="3551938551952971054"><h4>Conditions
</h4><p>Cl-data-structures tries to signal only the well structured errors that are possible to interpret. In order to achieve this, the hierarchy of condition classes is introduced. Below there is documentation explaining it.</p>Symbols in package CL-DATA-STRUCTURES:
<div class="error-info"><div class="doc-name">
TEXTUAL-ERROR
</div>
<img src="CL-DATA-STRUCTURES-TEXTUAL-ERROR.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Error with human readable text description.</div><div class="error-info"><div class="doc-name">
INVALID-ARGUMENT
</div>
<img src="CL-DATA-STRUCTURES-INVALID-ARGUMENT.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Error signaled if for some reason passed argument is invalid.</div><div class="error-info"><div class="doc-name">
INITIALIZATION-ERROR
</div>
<img src="CL-DATA-STRUCTURES-INITIALIZATION-ERROR.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Error signaled when container can&#039;t be initialized.</div><div class="error-info"><div class="doc-name">
OUT-OF-BOUNDS
</div>
<img src="CL-DATA-STRUCTURES-OUT-OF-BOUNDS.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Error signaled when some value is out of expected bounds.</div><div class="error-info"><div class="doc-name">
ARGUMENT-OUT-OF-BOUNDS
</div>
<img src="CL-DATA-STRUCTURES-ARGUMENT-OUT-OF-BOUNDS.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Error signaled when passed argument exceeds allowed bounds</div><div class="error-info"><div class="doc-name">
INITIALIZATION-OUT-OF-BOUNDS
</div>
<img src="CL-DATA-STRUCTURES-INITIALIZATION-OUT-OF-BOUNDS.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Error signaled when container can&#039;t be initialized with value because value exceeds bounds.</div><div class="error-info"><div class="doc-name">
NOT-IMPLEMENTED
</div>
<img src="CL-DATA-STRUCTURES-NOT-IMPLEMENTED.svg" alt="Inheritance" class="centered">
<br>
<b>Description:</b>
Error signaled when not implemented functionality is accessed.</div></div></div></div></div></div>
</body>
</html>